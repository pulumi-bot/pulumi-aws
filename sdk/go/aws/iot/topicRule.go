// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package iot

import (
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
)

type TopicRule struct {
	pulumi.CustomResourceState

	Arn              pulumi.StringOutput                `pulumi:"arn"`
	CloudwatchAlarm  TopicRuleCloudwatchAlarmPtrOutput  `pulumi:"cloudwatchAlarm"`
	CloudwatchMetric TopicRuleCloudwatchMetricPtrOutput `pulumi:"cloudwatchMetric"`
	Description      pulumi.StringPtrOutput             `pulumi:"description"`
	Dynamodb         TopicRuleDynamodbPtrOutput         `pulumi:"dynamodb"`
	Dynamodbv2s      TopicRuleDynamodbv2ArrayOutput     `pulumi:"dynamodbv2s"`
	Elasticsearch    TopicRuleElasticsearchPtrOutput    `pulumi:"elasticsearch"`
	Enabled          pulumi.BoolOutput                  `pulumi:"enabled"`
	ErrorAction      TopicRuleErrorActionPtrOutput      `pulumi:"errorAction"`
	Firehose         TopicRuleFirehosePtrOutput         `pulumi:"firehose"`
	IotAnalytics     TopicRuleIotAnalyticArrayOutput    `pulumi:"iotAnalytics"`
	IotEvents        TopicRuleIotEventArrayOutput       `pulumi:"iotEvents"`
	Kinesis          TopicRuleKinesisPtrOutput          `pulumi:"kinesis"`
	Lambda           TopicRuleLambdaPtrOutput           `pulumi:"lambda"`
	Name             pulumi.StringOutput                `pulumi:"name"`
	Republish        TopicRuleRepublishPtrOutput        `pulumi:"republish"`
	S3               TopicRuleS3PtrOutput               `pulumi:"s3"`
	Sns              TopicRuleSnsPtrOutput              `pulumi:"sns"`
	Sql              pulumi.StringOutput                `pulumi:"sql"`
	SqlVersion       pulumi.StringOutput                `pulumi:"sqlVersion"`
	Sqs              TopicRuleSqsPtrOutput              `pulumi:"sqs"`
	StepFunctions    TopicRuleStepFunctionArrayOutput   `pulumi:"stepFunctions"`
	Tags             pulumi.StringMapOutput             `pulumi:"tags"`
}

// NewTopicRule registers a new resource with the given unique name, arguments, and options.
func NewTopicRule(ctx *pulumi.Context,
	name string, args *TopicRuleArgs, opts ...pulumi.ResourceOption) (*TopicRule, error) {
	if args == nil || args.Enabled == nil {
		return nil, errors.New("missing required argument 'Enabled'")
	}
	if args == nil || args.Sql == nil {
		return nil, errors.New("missing required argument 'Sql'")
	}
	if args == nil || args.SqlVersion == nil {
		return nil, errors.New("missing required argument 'SqlVersion'")
	}
	if args == nil {
		args = &TopicRuleArgs{}
	}
	var resource TopicRule
	err := ctx.RegisterResource("aws:iot/topicRule:TopicRule", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetTopicRule gets an existing TopicRule resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetTopicRule(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *TopicRuleState, opts ...pulumi.ResourceOption) (*TopicRule, error) {
	var resource TopicRule
	err := ctx.ReadResource("aws:iot/topicRule:TopicRule", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering TopicRule resources.
type topicRuleState struct {
	Arn              *string                    `pulumi:"arn"`
	CloudwatchAlarm  *TopicRuleCloudwatchAlarm  `pulumi:"cloudwatchAlarm"`
	CloudwatchMetric *TopicRuleCloudwatchMetric `pulumi:"cloudwatchMetric"`
	Description      *string                    `pulumi:"description"`
	Dynamodb         *TopicRuleDynamodb         `pulumi:"dynamodb"`
	Dynamodbv2s      []TopicRuleDynamodbv2      `pulumi:"dynamodbv2s"`
	Elasticsearch    *TopicRuleElasticsearch    `pulumi:"elasticsearch"`
	Enabled          *bool                      `pulumi:"enabled"`
	ErrorAction      *TopicRuleErrorAction      `pulumi:"errorAction"`
	Firehose         *TopicRuleFirehose         `pulumi:"firehose"`
	IotAnalytics     []TopicRuleIotAnalytic     `pulumi:"iotAnalytics"`
	IotEvents        []TopicRuleIotEvent        `pulumi:"iotEvents"`
	Kinesis          *TopicRuleKinesis          `pulumi:"kinesis"`
	Lambda           *TopicRuleLambda           `pulumi:"lambda"`
	Name             *string                    `pulumi:"name"`
	Republish        *TopicRuleRepublish        `pulumi:"republish"`
	S3               *TopicRuleS3               `pulumi:"s3"`
	Sns              *TopicRuleSns              `pulumi:"sns"`
	Sql              *string                    `pulumi:"sql"`
	SqlVersion       *string                    `pulumi:"sqlVersion"`
	Sqs              *TopicRuleSqs              `pulumi:"sqs"`
	StepFunctions    []TopicRuleStepFunction    `pulumi:"stepFunctions"`
	Tags             map[string]string          `pulumi:"tags"`
}

type TopicRuleState struct {
	Arn              pulumi.StringPtrInput
	CloudwatchAlarm  TopicRuleCloudwatchAlarmPtrInput
	CloudwatchMetric TopicRuleCloudwatchMetricPtrInput
	Description      pulumi.StringPtrInput
	Dynamodb         TopicRuleDynamodbPtrInput
	Dynamodbv2s      TopicRuleDynamodbv2ArrayInput
	Elasticsearch    TopicRuleElasticsearchPtrInput
	Enabled          pulumi.BoolPtrInput
	ErrorAction      TopicRuleErrorActionPtrInput
	Firehose         TopicRuleFirehosePtrInput
	IotAnalytics     TopicRuleIotAnalyticArrayInput
	IotEvents        TopicRuleIotEventArrayInput
	Kinesis          TopicRuleKinesisPtrInput
	Lambda           TopicRuleLambdaPtrInput
	Name             pulumi.StringPtrInput
	Republish        TopicRuleRepublishPtrInput
	S3               TopicRuleS3PtrInput
	Sns              TopicRuleSnsPtrInput
	Sql              pulumi.StringPtrInput
	SqlVersion       pulumi.StringPtrInput
	Sqs              TopicRuleSqsPtrInput
	StepFunctions    TopicRuleStepFunctionArrayInput
	Tags             pulumi.StringMapInput
}

func (TopicRuleState) ElementType() reflect.Type {
	return reflect.TypeOf((*topicRuleState)(nil)).Elem()
}

type topicRuleArgs struct {
	CloudwatchAlarm  *TopicRuleCloudwatchAlarm  `pulumi:"cloudwatchAlarm"`
	CloudwatchMetric *TopicRuleCloudwatchMetric `pulumi:"cloudwatchMetric"`
	Description      *string                    `pulumi:"description"`
	Dynamodb         *TopicRuleDynamodb         `pulumi:"dynamodb"`
	Dynamodbv2s      []TopicRuleDynamodbv2      `pulumi:"dynamodbv2s"`
	Elasticsearch    *TopicRuleElasticsearch    `pulumi:"elasticsearch"`
	Enabled          bool                       `pulumi:"enabled"`
	ErrorAction      *TopicRuleErrorAction      `pulumi:"errorAction"`
	Firehose         *TopicRuleFirehose         `pulumi:"firehose"`
	IotAnalytics     []TopicRuleIotAnalytic     `pulumi:"iotAnalytics"`
	IotEvents        []TopicRuleIotEvent        `pulumi:"iotEvents"`
	Kinesis          *TopicRuleKinesis          `pulumi:"kinesis"`
	Lambda           *TopicRuleLambda           `pulumi:"lambda"`
	Name             *string                    `pulumi:"name"`
	Republish        *TopicRuleRepublish        `pulumi:"republish"`
	S3               *TopicRuleS3               `pulumi:"s3"`
	Sns              *TopicRuleSns              `pulumi:"sns"`
	Sql              string                     `pulumi:"sql"`
	SqlVersion       string                     `pulumi:"sqlVersion"`
	Sqs              *TopicRuleSqs              `pulumi:"sqs"`
	StepFunctions    []TopicRuleStepFunction    `pulumi:"stepFunctions"`
	Tags             map[string]string          `pulumi:"tags"`
}

// The set of arguments for constructing a TopicRule resource.
type TopicRuleArgs struct {
	CloudwatchAlarm  TopicRuleCloudwatchAlarmPtrInput
	CloudwatchMetric TopicRuleCloudwatchMetricPtrInput
	Description      pulumi.StringPtrInput
	Dynamodb         TopicRuleDynamodbPtrInput
	Dynamodbv2s      TopicRuleDynamodbv2ArrayInput
	Elasticsearch    TopicRuleElasticsearchPtrInput
	Enabled          pulumi.BoolInput
	ErrorAction      TopicRuleErrorActionPtrInput
	Firehose         TopicRuleFirehosePtrInput
	IotAnalytics     TopicRuleIotAnalyticArrayInput
	IotEvents        TopicRuleIotEventArrayInput
	Kinesis          TopicRuleKinesisPtrInput
	Lambda           TopicRuleLambdaPtrInput
	Name             pulumi.StringPtrInput
	Republish        TopicRuleRepublishPtrInput
	S3               TopicRuleS3PtrInput
	Sns              TopicRuleSnsPtrInput
	Sql              pulumi.StringInput
	SqlVersion       pulumi.StringInput
	Sqs              TopicRuleSqsPtrInput
	StepFunctions    TopicRuleStepFunctionArrayInput
	Tags             pulumi.StringMapInput
}

func (TopicRuleArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*topicRuleArgs)(nil)).Elem()
}
